<!DOCTYPE html>
<html lang="en" data-editor-version="1">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agreement Form</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Allura&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      color: #1e293b; 
      background: #f1f5f9;
      font-size: 14px;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }
    form { 
      max-width: 800px; 
      margin: 32px auto; 
      padding: 40px; 
      background: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
    }
    h1, h2, h3, h4, h5, h6 { font-weight: 600; line-height: 1.3; color: #0f172a; }
    p { word-wrap: break-word; }
    table { width: 100%; border-collapse: collapse; table-layout: fixed; }
    td, th { padding: 8px; border: 1px solid #000; vertical-align: top; font-size: inherit; word-wrap: break-word; }
    th { font-weight: bold; }
    input, select, textarea { 
      outline: none; 
      font-family: inherit; 
      font-size: inherit;
      box-sizing: border-box;
    }
    input:focus, select:focus, textarea:focus { 
      border-color: #3b82f6; 
      box-shadow: 0 0 0 3px rgba(59,130,246,0.1); 
    }
    fieldset { border: none; padding: 0; }
    legend { font-size: 14px; font-weight: 500; margin-bottom: 8px; }
    .placeholder { 
      background-color: #b3d4fc; 
      padding: 0 2px; 
      border-radius: 2px;
    }
    .signature-area {
      border: 1px solid #e2e8f0; border-radius: 6px; padding: 12px 16px;
      text-align: left; position: relative; min-height: 48px;
      display: flex; align-items: center; gap: 12px;
      background: #fff; transition: border-color 0.2s, box-shadow 0.2s;
    }
    .signature-area:hover { border-color: #94a3b8; }
    .sig-label {
      font-size: 14px; font-weight: 500; color: #334155; white-space: nowrap;
    }
    .sign-button {
      background: #1e293b; color: #fff; border: none;
      padding: 6px 16px; cursor: pointer; font-weight: 500; font-size: 13px;
      border-radius: 4px; display: inline-flex; align-items: center; gap: 6px;
      transition: background 0.15s; margin-left: auto;
    }
    .sign-button:hover { background: #334155; }
    .sign-button:active { background: #0f172a; }
    a { color: #2563eb; text-decoration: underline; }
    a:hover { color: #1d4ed8; }
    ul, ol { margin-left: 24px; }
    li { padding: 4px 0; }
    .esign-overlay {
      display: none; position: fixed; inset: 0; background: rgba(15,23,42,0.45); z-index: 10000;
      align-items: center; justify-content: center;
    }
    .esign-modal {
      background: #fff; border-radius: 8px; width: 480px; max-width: 94vw;
      box-shadow: 0 16px 40px rgba(0,0,0,0.2); overflow: hidden;
      animation: esignFadeIn 0.15s ease-out;
    }
    @keyframes esignFadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
    .esign-modal-header {
      background: #1e293b; color: #fff;
      padding: 16px 24px; font-size: 15px; font-weight: 600;
    }
    .esign-modal-body { padding: 20px 24px 16px; }
    .esign-modal-footer { padding: 4px 24px 20px; display: flex; gap: 10px; justify-content: flex-end; }
    .esign-btn {
      padding: 8px 20px; border-radius: 4px; font-size: 13px; font-weight: 500;
      cursor: pointer; border: none; transition: background 0.15s;
    }
    .esign-btn-primary { background: #1e293b; color: #fff; }
    .esign-btn-primary:hover { background: #334155; }
    .esign-btn-primary:disabled { opacity: 0.35; cursor: not-allowed; }
    .esign-btn-danger { background: #fff; color: #64748b; border: 1px solid #e2e8f0; }
    .esign-btn-danger:hover { background: #f8fafc; color: #334155; }
    .esign-checkbox-label {
      display: flex; align-items: center; gap: 10px; font-size: 13px;
      cursor: pointer; padding: 10px 12px; border: 1px solid #e2e8f0;
      border-radius: 6px; transition: background 0.15s;
    }
    .esign-checkbox-label:hover { background: #f8fafc; }
    .esign-checkbox-label input[type="checkbox"] { width: 16px; height: 16px; accent-color: #1e293b; flex-shrink: 0; }
    .esign-sig-preview {
      font-family: 'Allura', cursive; font-size: 30px; color: #0f172a;
      padding: 10px 0 8px; border-bottom: 1px solid #cbd5e1; margin: 12px 0 6px;
    }
    .esign-legal { font-size: 12px; color: #94a3b8; line-height: 1.6; margin-top: 12px; }
    .field-error-msg {
      display: flex; align-items: center; gap: 6px;
      color: #dc2626; font-size: 12px; font-weight: 500;
      margin-top: 6px; padding: 0 2px;
      animation: errorSlideIn 0.25s ease-out;
    }
    .field-error-msg svg { flex-shrink: 0; }
    @keyframes errorSlideIn { from { opacity: 0; transform: translateY(-4px); } to { opacity: 1; transform: translateY(0); } }
    .field-invalid { border-color: #ef4444 !important; }
    .field-invalid:focus { box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.15) !important; }
    @media (max-width: 768px) {
      form { margin: 16px; padding: 24px; }
      [data-editor-section] { 
        grid-template-columns: 1fr !important; 
        flex-direction: column !important;
        gap: 16px !important;
      }
      [data-editor-column] { width: 100% !important; }
      .esign-modal { width: 95vw; }
    }
  </style>
</head>
<body>
  <form novalidate>
<div data-editor-section="true" data-editor-layout="1" data-section-id="94526851-a089-43e3-9ef2-41fef35af8c9" style="margin-bottom: 24px;">
  <div data-editor-column="0">
    <div data-block-id="logo-reminder" data-block-type="image" data-width="100" data-locked="false" data-margin-top="0" data-margin-bottom="8" data-src="data:image/webp;base64,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" data-alt="" data-border-radius="0" data-max-height="300" data-alignment="center" data-margin-left="0" data-margin-right="0" style="margin-top: 0px; margin-bottom: 8px; margin-left: 0px; margin-right: 0px;"><img src="data:image/webp;base64,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" alt="" style="max-width: 100%; border-radius: 0px; max-height: 300px; display: block; margin: 0 auto;" /></div>
    <h2 data-block-id="heading-reminder" data-block-type="heading" data-width="100" data-locked="false" data-margin-top="20" data-margin-bottom="8" data-level="h2" data-font-size="24" data-font-weight="600" data-align="center" data-line-height="1.3" data-color="" data-margin-left="0" data-margin-right="0" data-padding-x="0" data-padding-y="0" style="font-size: 24px; font-weight: 600; text-align: center; line-height: 1.3; word-break: break-word; overflow-wrap: break-word; white-space: break-spaces;  margin-top: 20px; margin-bottom: 8px; margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; padding-bottom: 0px;">
      ⏰ Payment Reminder
    </h2>
    <p data-block-id="greeting-reminder" data-block-type="paragraph" data-width="100" data-locked="false" data-margin-top="0" data-margin-bottom="8" data-font-size="14" data-font-weight="400" data-align="left" data-line-height="1.6" data-color="" data-margin-left="0" data-margin-right="0" data-padding-x="0" data-padding-y="0" style="font-size: 14px; font-weight: 400; text-align: left; line-height: 1.6; word-break: break-word; overflow-wrap: break-word; white-space: break-spaces;  margin-top: 0px; margin-bottom: 8px; margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; padding-bottom: 0px;">
      Dear <span class="placeholder" style="background-color: #b3d4fc; padding: 0 2px;">PH@FirstName</span>,
    </p>
    <p data-block-id="body-reminder" data-block-type="paragraph" data-width="100" data-locked="false" data-margin-top="0" data-margin-bottom="8" data-font-size="14" data-font-weight="400" data-align="left" data-line-height="1.6" data-color="" data-margin-left="0" data-margin-right="0" data-padding-x="0" data-padding-y="0" style="font-size: 14px; font-weight: 400; text-align: left; line-height: 1.6; word-break: break-word; overflow-wrap: break-word; white-space: break-spaces;  margin-top: 0px; margin-bottom: 8px; margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; padding-bottom: 0px;">
      This is a reminder that your upcoming loan payment is due soon.
      Please find the details below:
    </p>
    <table data-block-id="table-reminder" data-block-type="table" data-width="100" data-locked="false" data-margin-top="12" data-margin-bottom="12" data-header-row="false" data-rows="[[&quot;date&quot;,&quot;amt&quot;,&quot;due date &quot;],[&quot;27/1/2002&quot;,&quot;$200000&quot;,&quot;1/2/2002&quot;]]" data-column-widths="[33.333333333333336,33.333333333333336,33.333333333333336]" data-row-heights="[]" data-margin-left="0" data-margin-right="0" style="width: 100%; border-collapse: collapse; table-layout: fixed; margin-top: 12px; margin-bottom: 12px; margin-left: 0px; margin-right: 0px;">
  <colgroup>
    <col style="width: 33.33%;" />
    <col style="width: 33.33%;" />
    <col style="width: 33.33%;" />
  </colgroup>
  <tbody>
    <tr>
      <td style="padding: 8px; border: 1px solid #000; word-break: break-word; overflow-wrap: break-word; white-space: break-spaces;">date</td>
      <td style="padding: 8px; border: 1px solid #000; word-break: break-word; overflow-wrap: break-word; white-space: break-spaces;">amt</td>
      <td style="padding: 8px; border: 1px solid #000; word-break: break-word; overflow-wrap: break-word; white-space: break-spaces;">due date </td>
    </tr>
    <tr style="background-color: rgba(0,0,0,0.02);">
      <td style="padding: 8px; border: 1px solid #000; word-break: break-word; overflow-wrap: break-word; white-space: break-spaces;">27/1/2002</td>
      <td style="padding: 8px; border: 1px solid #000; word-break: break-word; overflow-wrap: break-word; white-space: break-spaces;">$200000</td>
      <td style="padding: 8px; border: 1px solid #000; word-break: break-word; overflow-wrap: break-word; white-space: break-spaces;">1/2/2002</td>
    </tr>
  </tbody>
</table>
    <button data-block-id="cta-reminder" data-block-type="button" data-width="100" data-locked="false" data-margin-top="20" data-margin-bottom="20"  data-label="Button" data-button-type="button" data-variant="primary" data-margin-left="0" data-margin-right="0" type="button" style="padding: 10px 20px; border-radius: 6px; font-size: 14px; font-weight: 500; cursor: pointer; background-color: #3b82f6; color: white; border: none; margin-top: 20px; margin-bottom: 20px; margin-left: 0px; margin-right: 0px;">Button</button>
    <p data-block-id="note-reminder" data-block-type="paragraph" data-width="100" data-locked="false" data-margin-top="0" data-margin-bottom="8" data-font-size="14" data-font-weight="400" data-align="left" data-line-height="1.6" data-color="" data-margin-left="0" data-margin-right="0" data-padding-x="0" data-padding-y="0" style="font-size: 14px; font-weight: 400; text-align: left; line-height: 1.6; word-break: break-word; overflow-wrap: break-word; white-space: break-spaces;  margin-top: 0px; margin-bottom: 8px; margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; padding-bottom: 0px;">
      Please ensure payment is made before the due date to avoid late fees.
    </p>
    <hr data-block-id="divider-reminder" data-block-type="divider" data-width="100" data-locked="false" data-margin-top="0" data-margin-bottom="8" data-thickness="1" data-style="solid" data-color="#e2e8f0" data-margin-left="0" data-margin-right="0" style="border: none; border-top: 1px solid #e2e8f0; margin-top: 0px; margin-bottom: 8px; margin-left: 0px; margin-right: 0px;" />
    <p data-block-id="footer-reminder" data-block-type="paragraph" data-width="100" data-locked="false" data-margin-top="0" data-margin-bottom="8" data-font-size="14" data-font-weight="400" data-align="left" data-line-height="1.6" data-color="" data-margin-left="0" data-margin-right="0" data-padding-x="0" data-padding-y="0" style="font-size: 14px; font-weight: 400; text-align: left; line-height: 1.6; word-break: break-word; overflow-wrap: break-word; white-space: break-spaces;  margin-top: 0px; margin-bottom: 8px; margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; padding-bottom: 0px;">
      For assistance, contact
      <span class="placeholder" style="background-color: #b3d4fc; padding: 0 2px;">PH@SupportEmail</span>
          or                                                                                                                                                                                call <span class="placeholder" style="background-color: #b3d4fc; padding: 0 2px;">PH@SupportPhone</span>.
      
      Regards,
      <span class="placeholder" style="background-color: #b3d4fc; padding: 0 2px;">PH@PortfolioName</span>
    </p>
  </div>
</div>
  </form>

  <div id="esign-overlay" class="esign-overlay">
    <div id="esign-review-modal" class="esign-modal" style="display:none;">
      <div class="esign-modal-header">Please review these documents carefully</div>
      <div class="esign-modal-body">
        <p style="font-size: 14px; color: #475569; margin-bottom: 20px;">Please sign the documents electronically after your review.</p>
        <label class="esign-checkbox-label">
          <input type="checkbox" id="esign-agree-checkbox" />
          <span>I agree to use Electronic Signature on this website.</span>
        </label>
      </div>
      <div class="esign-modal-footer">
        <button type="button" id="esign-continue-btn" class="esign-btn esign-btn-primary" disabled>Continue</button>
        <button type="button" data-esign-cancel class="esign-btn esign-btn-danger">Cancel</button>
      </div>
    </div>
    <div id="esign-adopt-modal" class="esign-modal" style="display:none;">
      <div class="esign-modal-header">Adopt your signature</div>
      <div class="esign-modal-body">
        <p style="font-size: 14px; color: #475569;">Borrower's Name: <strong id="esign-borrower-name">Mafrook Doe</strong></p>
        <div style="margin-top: 12px; font-size: 14px; color: #475569;">Adopted Signature:</div>
        <div id="esign-adopted-sig" class="esign-sig-preview">Mafrook Doe</div>
        <p class="esign-legal">By clicking adopt and sign, I agree that the signature will be the electronic representation of my signature for all purposes when I (or my agent) use them on documents, including legally binding contracts &mdash; just the same as a pen-and-paper signature and initials. Further I have previously consented to the use of e-signatures and electronic communications.</p>
      </div>
      <div class="esign-modal-footer">
        <button type="button" id="esign-adopt-btn" class="esign-btn esign-btn-primary">Adopt and Sign</button>
        <button type="button" data-esign-cancel class="esign-btn esign-btn-danger">Cancel</button>
      </div>
    </div>
  </div>

<script>
(function() {
  document.addEventListener('DOMContentLoaded', function() {
    var form = document.querySelector('form');
    if (!form) return;

    // --- E-Sign Modal Flow ---
    var overlay = document.getElementById('esign-overlay');
    var reviewModal = document.getElementById('esign-review-modal');
    var adoptModal = document.getElementById('esign-adopt-modal');
    var agreeCheckbox = document.getElementById('esign-agree-checkbox');
    var continueBtn = document.getElementById('esign-continue-btn');
    var adoptBtn = document.getElementById('esign-adopt-btn');
    var cancelBtns = document.querySelectorAll('[data-esign-cancel]');
    var adoptedSigPreview = document.getElementById('esign-adopted-sig');
    var borrowerNameEl = document.getElementById('esign-borrower-name');
    var activeSignatureField = null;

    function getSignerName() {
      var firstEl = form.querySelector('[name*="irst"]') || form.querySelector('[name*="first"]');
      var lastEl = form.querySelector('[name*="ast"]') || form.querySelector('[name*="last"]');
      var firstName = (firstEl && firstEl.value) ? firstEl.value.trim() : 'Mafrook';
      var lastName = (lastEl && lastEl.value) ? lastEl.value.trim() : 'Doe';
      var fullNameEl = form.querySelector('[name*="full_name"]') || form.querySelector('[name*="name"]');
      if ((!firstEl || !firstEl.value) && fullNameEl && fullNameEl.value) {
        var parts = fullNameEl.value.trim().split(' ');
        firstName = parts[0] || 'Mafrook';
        lastName = parts.slice(1).join(' ') || 'Doe';
      }
      return { first: firstName, last: lastName, full: firstName + ' ' + lastName };
    }

    function openOverlay() { if (overlay) overlay.style.display = 'flex'; }
    function closeOverlay() {
      if (overlay) overlay.style.display = 'none';
      if (reviewModal) reviewModal.style.display = 'none';
      if (adoptModal) adoptModal.style.display = 'none';
      if (agreeCheckbox) agreeCheckbox.checked = false;
      if (continueBtn) continueBtn.disabled = true;
    }

    var signButtons = document.querySelectorAll('[data-signature-button]');
    signButtons.forEach(function(btn) {
      btn.addEventListener('click', function() {
        activeSignatureField = btn.getAttribute('data-field');
        if (reviewModal) reviewModal.style.display = 'block';
        openOverlay();
      });
    });

    if (agreeCheckbox && continueBtn) {
      agreeCheckbox.addEventListener('change', function() {
        continueBtn.disabled = !agreeCheckbox.checked;
      });
    }

    if (continueBtn) {
      continueBtn.addEventListener('click', function() {
        if (!agreeCheckbox || !agreeCheckbox.checked) return;
        if (reviewModal) reviewModal.style.display = 'none';
        var signer = getSignerName();
        if (borrowerNameEl) borrowerNameEl.textContent = signer.full;
        if (adoptedSigPreview) adoptedSigPreview.textContent = signer.full;
        if (adoptModal) adoptModal.style.display = 'block';
      });
    }

    if (adoptBtn) {
      adoptBtn.addEventListener('click', function() {
        var signer = getSignerName();
        if (activeSignatureField) {
          var area = document.getElementById(activeSignatureField);
          if (area) {
            var display = area.querySelector('.signature-display');
            var btn = area.querySelector('.sign-button');
            var hidden = area.querySelector('[data-signature-value]');
            if (display) {
              var ts = new Date();
              display.innerHTML = '<span style="font-family: Allura, cursive; font-size: 26px; color: #0f172a;">' + signer.full + '</span><span style="font-size: 11px; color: #94a3b8; margin-left: 12px;">' + ts.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit', year: 'numeric' }) + '</span>';
              display.style.display = 'flex';
              display.style.alignItems = 'baseline';
              display.style.gap = '8px';
              display.style.borderBottom = '1px solid #e2e8f0';
              display.style.paddingBottom = '4px';
              display.style.flex = '1';
            }
            if (btn) btn.style.display = 'none';
            if (hidden) hidden.value = signer.full;
            area.style.borderColor = '#e2e8f0';
          }
        }
        closeOverlay();
      });
    }

    cancelBtns.forEach(function(btn) {
      btn.addEventListener('click', closeOverlay);
    });

    if (overlay) {
      overlay.addEventListener('click', function(e) {
        if (e.target === overlay) closeOverlay();
      });
    }

    // --- Inline Validation Helpers ---
    function getFieldLabel(field) {
      var wrapper = field.closest('[data-block-type]');
      if (wrapper) {
        var label = wrapper.querySelector('label');
        if (label) {
          var clone = label.cloneNode(true);
          var span = clone.querySelector('span');
          if (span) clone.removeChild(span);
          var txt = clone.textContent.trim();
          if (txt) return txt;
        }
        var legend = wrapper.querySelector('legend');
        if (legend) {
          var lClone = legend.cloneNode(true);
          var lSpan = lClone.querySelector('span');
          if (lSpan) lClone.removeChild(lSpan);
          var lTxt = lClone.textContent.trim();
          if (lTxt) return lTxt;
        }
      }
      return field.name || 'This field';
    }

    function showFieldError(field, msg) {
      clearFieldError(field);
      field.style.borderColor = '#ef4444';
      field.style.boxShadow = '0 0 0 3px rgba(239, 68, 68, 0.1)';
      field.classList.add('field-invalid');
      var el = document.createElement('div');
      el.className = 'field-error-msg';
      el.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg> ' + msg;
      var target = field.closest('[data-block-type]') || field.parentElement;
      target.appendChild(el);
    }

    function clearFieldError(field) {
      field.style.borderColor = '';
      field.style.boxShadow = '';
      field.classList.remove('field-invalid');
      var wrapper = field.closest('[data-block-type]') || field.parentElement;
      var existing = wrapper.querySelectorAll('.field-error-msg');
      existing.forEach(function(e) { e.remove(); });
    }

    // Live clear on input
    form.addEventListener('input', function(e) { clearFieldError(e.target); });
    form.addEventListener('change', function(e) { clearFieldError(e.target); });

    // --- Form Validation & Submit Logging ---
    form.addEventListener('submit', function(e) {
      e.preventDefault();

      // Clear all previous errors
      form.querySelectorAll('.field-error-msg').forEach(function(el) { el.remove(); });
      form.querySelectorAll('.field-invalid').forEach(function(el) {
        el.style.borderColor = ''; el.style.boxShadow = ''; el.classList.remove('field-invalid');
      });

      var requiredFields = form.querySelectorAll('[required]');
      var firstInvalid = null;
      var errorCount = 0;

      requiredFields.forEach(function(field) {
        var isValid = true;
        var label = getFieldLabel(field);

        if (field.type === 'checkbox') {
          isValid = field.checked;
        } else if (field.type === 'radio') {
          var radios = form.querySelectorAll('input[name="' + field.name + '"]');
          isValid = Array.from(radios).some(function(r) { return r.checked; });
          if (!isValid) {
            showFieldError(radios[0], '"' + label + '" — please select an option');
            if (!firstInvalid) firstInvalid = radios[0];
            errorCount++;
            return;
          }
          return;
        } else if (field.tagName === 'SELECT') {
          isValid = field.value !== '';
        } else {
          isValid = field.value.trim() !== '';
        }

        if (!isValid) {
          var msg = field.type === 'checkbox'
            ? '"' + label + '" — you must agree to continue'
            : '"' + label + '" is required';
          showFieldError(field, msg);
          if (!firstInvalid) firstInvalid = field;
          errorCount++;
        }
      });

      // Validate required signatures
      var sigAreas = form.querySelectorAll('.signature-area[data-required="true"]');
      sigAreas.forEach(function(area) {
        var hidden = area.querySelector('[data-signature-value]');
        if (!hidden || !hidden.value) {
          var sigLabel = area.getAttribute('data-label') || 'Signature';
          area.style.borderColor = '#ef4444';
          area.style.borderStyle = 'dashed';
          area.style.boxShadow = '0 0 0 3px rgba(239, 68, 68, 0.1)';
          var existing = area.querySelector('.field-error-msg');
          if (!existing) {
            var el = document.createElement('div');
            el.className = 'field-error-msg';
            el.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg> "' + sigLabel + '" — signature is required';
            area.appendChild(el);
          }
          if (!firstInvalid) firstInvalid = area;
          errorCount++;
        }
      });

      if (firstInvalid) {
        firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
        if (firstInvalid.focus) firstInvalid.focus();
        return;
      }

      var formData = {};
      var inputs = form.querySelectorAll('input, select, textarea');
      inputs.forEach(function(el) {
        var name = el.name;
        if (!name) return;
        if (el.type === 'radio') {
          if (el.checked) formData[name] = el.value;
        } else if (el.type === 'checkbox') {
          if (el.name in formData) {
            if (!Array.isArray(formData[name])) formData[name] = [formData[name]];
            if (el.checked) formData[name].push(el.value || true);
          } else {
            formData[name] = el.checked ? (el.value || true) : false;
          }
        } else {
          formData[name] = el.value;
        }
      });

      console.group('%c Form Submission Data', 'color: #1e3a5f; font-size: 14px; font-weight: bold;');
      console.log('%c Timestamp:', 'font-weight: bold;', new Date().toISOString());
      Object.keys(formData).forEach(function(key) {
        console.log('%c ' + key + ':', 'color: #2563eb; font-weight: 600;', formData[key]);
      });
      console.groupEnd();
      console.log('%c Complete form data object:', 'color: #16a34a; font-weight: bold;', formData);

      alert('Form submitted successfully! Check the browser console (F12) for all captured values.');
    });
  });
})();
</script>
</body>
</html>